/*! For license information please see a5be06b05517c7f42be8.worker.js.LICENSE.txt */
!function(){var t={467:function(t,e,r){t=r.nmd(t);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Array]",u="[object Boolean]",s="[object Date]",c="[object Error]",f="[object Function]",l="[object Map]",h="[object Number]",v="[object Object]",p="[object Promise]",d="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",w="[object WeakMap]",m="[object ArrayBuffer]",_="[object DataView]",j=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[i]=A[a]=A[m]=A[u]=A[_]=A[s]=A[c]=A[f]=A[l]=A[h]=A[v]=A[d]=A[y]=A[g]=A[w]=!1;var S="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,k="object"==typeof self&&self&&self.Object===Object&&self,O=S||k||Function("return this")(),E=e&&!e.nodeType&&e,T=E&&t&&!t.nodeType&&t,P=T&&T.exports===E,L=P&&S.process,B=function(){try{return L&&L.binding&&L.binding("util")}catch(t){}}(),C=B&&B.isTypedArray;function x(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function V(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var D,N,R=Array.prototype,I=Function.prototype,W=Object.prototype,$=O["__core-js_shared__"],U=I.toString,q=W.hasOwnProperty,F=function(){var t=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),K=W.toString,H=RegExp("^"+U.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=P?O.Buffer:void 0,G=O.Symbol,J=O.Uint8Array,X=W.propertyIsEnumerable,Q=R.splice,Z=G?G.toStringTag:void 0,tt=Object.getOwnPropertySymbols,et=Y?Y.isBuffer:void 0,rt=(D=Object.keys,N=Object,function(t){return D(N(t))}),nt=Lt(O,"DataView"),ot=Lt(O,"Map"),it=Lt(O,"Promise"),at=Lt(O,"Set"),ut=Lt(O,"WeakMap"),st=Lt(Object,"create"),ct=zt(nt),ft=zt(ot),lt=zt(it),ht=zt(at),vt=zt(ut),pt=G?G.prototype:void 0,dt=pt?pt.valueOf:void 0;function yt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function gt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function wt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new bt;++e<r;)this.add(t[e])}function mt(t){var e=this.__data__=new gt(t);this.size=e.size}function _t(t,e){var r=Nt(t),n=!r&&Dt(t),o=!r&&!n&&Rt(t),i=!r&&!n&&!o&&qt(t),a=r||n||o||i,u=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],s=u.length;for(var c in t)!e&&!q.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xt(c,s))||u.push(c);return u}function jt(t,e){for(var r=t.length;r--;)if(Vt(t[r][0],e))return r;return-1}function Mt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Z&&Z in Object(t)?function(t){var e=q.call(t,Z),r=t[Z];try{t[Z]=void 0;var n=!0}catch(i){}var o=K.call(t);n&&(e?t[Z]=r:delete t[Z]);return o}(t):function(t){return K.call(t)}(t)}function At(t){return Ut(t)&&Mt(t)==i}function St(t,e,r,n,o){return t===e||(null==t||null==e||!Ut(t)&&!Ut(e)?t!==t&&e!==e:function(t,e,r,n,o,f){var p=Nt(t),w=Nt(e),j=p?a:Ct(t),M=w?a:Ct(e),A=(j=j==i?v:j)==v,S=(M=M==i?v:M)==v,k=j==M;if(k&&Rt(t)){if(!Rt(e))return!1;p=!0,A=!1}if(k&&!A)return f||(f=new mt),p||qt(t)?Et(t,e,r,n,o,f):function(t,e,r,n,o,i,a){switch(r){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m:return!(t.byteLength!=e.byteLength||!i(new J(t),new J(e)));case u:case s:case h:return Vt(+t,+e);case c:return t.name==e.name&&t.message==e.message;case d:case g:return t==e+"";case l:var f=z;case y:var v=1&n;if(f||(f=V),t.size!=e.size&&!v)return!1;var p=a.get(t);if(p)return p==e;n|=2,a.set(t,e);var w=Et(f(t),f(e),n,o,i,a);return a.delete(t),w;case b:if(dt)return dt.call(t)==dt.call(e)}return!1}(t,e,j,r,n,o,f);if(!(1&r)){var O=A&&q.call(t,"__wrapped__"),E=S&&q.call(e,"__wrapped__");if(O||E){var T=O?t.value():t,P=E?e.value():e;return f||(f=new mt),o(T,P,r,n,f)}}if(!k)return!1;return f||(f=new mt),function(t,e,r,n,o,i){var a=1&r,u=Tt(t),s=u.length,c=Tt(e).length;if(s!=c&&!a)return!1;var f=s;for(;f--;){var l=u[f];if(!(a?l in e:q.call(e,l)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var v=!0;i.set(t,e),i.set(e,t);var p=a;for(;++f<s;){var d=t[l=u[f]],y=e[l];if(n)var g=a?n(y,d,l,e,t,i):n(d,y,l,t,e,i);if(!(void 0===g?d===y||o(d,y,r,n,i):g)){v=!1;break}p||(p="constructor"==l)}if(v&&!p){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return i.delete(t),i.delete(e),v}(t,e,r,n,o,f)}(t,e,r,n,St,o))}function kt(t){return!(!$t(t)||function(t){return!!F&&F in t}(t))&&(It(t)?H:j).test(zt(t))}function Ot(t){if(!function(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||W;return t===r}(t))return rt(t);var e=[];for(var r in Object(t))q.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Et(t,e,r,n,o,i){var a=1&r,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(t);if(c&&i.get(e))return c==e;var f=-1,l=!0,h=2&r?new wt:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var v=t[f],p=e[f];if(n)var d=a?n(p,v,f,e,t,i):n(v,p,f,t,e,i);if(void 0!==d){if(d)continue;l=!1;break}if(h){if(!x(e,(function(t,e){if(a=e,!h.has(a)&&(v===t||o(v,t,r,n,i)))return h.push(e);var a}))){l=!1;break}}else if(v!==p&&!o(v,p,r,n,i)){l=!1;break}}return i.delete(t),i.delete(e),l}function Tt(t){return function(t,e,r){var n=e(t);return Nt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Ft,Bt)}function Pt(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Lt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return kt(r)?r:void 0}yt.prototype.clear=function(){this.__data__=st?st(null):{},this.size=0},yt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yt.prototype.get=function(t){var e=this.__data__;if(st){var r=e[t];return r===n?void 0:r}return q.call(e,t)?e[t]:void 0},yt.prototype.has=function(t){var e=this.__data__;return st?void 0!==e[t]:q.call(e,t)},yt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=st&&void 0===e?n:e,this},gt.prototype.clear=function(){this.__data__=[],this.size=0},gt.prototype.delete=function(t){var e=this.__data__,r=jt(e,t);return!(r<0)&&(r==e.length-1?e.pop():Q.call(e,r,1),--this.size,!0)},gt.prototype.get=function(t){var e=this.__data__,r=jt(e,t);return r<0?void 0:e[r][1]},gt.prototype.has=function(t){return jt(this.__data__,t)>-1},gt.prototype.set=function(t,e){var r=this.__data__,n=jt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},bt.prototype.clear=function(){this.size=0,this.__data__={hash:new yt,map:new(ot||gt),string:new yt}},bt.prototype.delete=function(t){var e=Pt(this,t).delete(t);return this.size-=e?1:0,e},bt.prototype.get=function(t){return Pt(this,t).get(t)},bt.prototype.has=function(t){return Pt(this,t).has(t)},bt.prototype.set=function(t,e){var r=Pt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,n),this},wt.prototype.has=function(t){return this.__data__.has(t)},mt.prototype.clear=function(){this.__data__=new gt,this.size=0},mt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},mt.prototype.get=function(t){return this.__data__.get(t)},mt.prototype.has=function(t){return this.__data__.has(t)},mt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof gt){var n=r.__data__;if(!ot||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new bt(n)}return r.set(t,e),this.size=r.size,this};var Bt=tt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}(tt(t),(function(e){return X.call(t,e)})))}:function(){return[]},Ct=Mt;function xt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||M.test(t))&&t>-1&&t%1==0&&t<e}function zt(t){if(null!=t){try{return U.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Vt(t,e){return t===e||t!==t&&e!==e}(nt&&Ct(new nt(new ArrayBuffer(1)))!=_||ot&&Ct(new ot)!=l||it&&Ct(it.resolve())!=p||at&&Ct(new at)!=y||ut&&Ct(new ut)!=w)&&(Ct=function(t){var e=Mt(t),r=e==v?t.constructor:void 0,n=r?zt(r):"";if(n)switch(n){case ct:return _;case ft:return l;case lt:return p;case ht:return y;case vt:return w}return e});var Dt=At(function(){return arguments}())?At:function(t){return Ut(t)&&q.call(t,"callee")&&!X.call(t,"callee")},Nt=Array.isArray;var Rt=et||function(){return!1};function It(t){if(!$t(t))return!1;var e=Mt(t);return e==f||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Wt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function $t(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ut(t){return null!=t&&"object"==typeof t}var qt=C?function(t){return function(e){return t(e)}}(C):function(t){return Ut(t)&&Wt(t.length)&&!!A[Mt(t)]};function Ft(t){return null!=(e=t)&&Wt(e.length)&&!It(e)?_t(t):Ot(t);var e}t.exports=function(t,e){return St(t,e)}},725:function(t){"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}()?Object.assign:function(t,i){for(var a,u,s=o(t),c=1;c<arguments.length;c++){for(var f in a=Object(arguments[c]))r.call(a,f)&&(s[f]=a[f]);if(e){u=e(a);for(var l=0;l<u.length;l++)n.call(a,u[l])&&(s[u[l]]=a[u[l]])}}return s}},117:function(t,e,r){"use strict";var n=r(725),o=60103,i=60106;var a=60109,u=60110,s=60112;var c=60115,f=60116;if("function"===typeof Symbol&&Symbol.for){var l=Symbol.for;o=l("react.element"),i=l("react.portal"),l("react.fragment"),l("react.strict_mode"),l("react.profiler"),a=l("react.provider"),u=l("react.context"),s=l("react.forward_ref"),l("react.suspense"),c=l("react.memo"),f=l("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d={};function y(t,e,r){this.props=t,this.context=e,this.refs=d,this.updater=r||p}function g(){}function b(t,e,r){this.props=t,this.context=e,this.refs=d,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=y.prototype;var w=b.prototype=new g;w.constructor=b,n(w,y.prototype),w.isPureReactComponent=!0;var m={current:null},_=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function M(t,e,r){var n,i={},a=null,u=null;if(null!=e)for(n in void 0!==e.ref&&(u=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,n)&&!j.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var c=Array(s),f=0;f<s;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps)void 0===i[n]&&(i[n]=s[n]);return{$$typeof:o,type:t,key:a,ref:u,props:i,_owner:m.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var S=/\/+/g;function k(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,r,n,a){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var s=!1;if(null===t)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case i:s=!0}}if(s)return a=a(s=t),t=""===n?"."+k(s,0):n,Array.isArray(a)?(r="",null!=t&&(r=t.replace(S,"$&/")+"/"),O(a,e,r,"",(function(t){return t}))):null!=a&&(A(a)&&(a=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var f=n+k(u=t[c],c);s+=O(u,e,r,f,a)}else if(f=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=h&&t[h]||t["@@iterator"])?t:null}(t),"function"===typeof f)for(t=f.call(t),c=0;!(u=t.next()).done;)s+=O(u=u.value,e,r,f=n+k(u,c++),a);else if("object"===u)throw e=""+t,Error(v(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function E(t,e,r){if(null==t)return t;var n=[],o=0;return O(t,n,"","",(function(t){return e.call(r,t,o++)})),n}function T(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var P={current:null};function L(){var t=P.current;if(null===t)throw Error(v(321));return t}e.useCallback=function(t,e){return L().useCallback(t,e)},e.useEffect=function(t,e){return L().useEffect(t,e)},e.useLayoutEffect=function(t,e){return L().useLayoutEffect(t,e)},e.useState=function(t){return L().useState(t)}},791:function(t,e,r){"use strict";t.exports=r(117)},460:function(t){"use strict";function e(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(t){return(t=t||{}).circles?function(t){var r=[],n=[];return t.proto?function t(i){if("object"!==typeof i||null===i)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return o(i,t);if(i instanceof Map)return new Map(o(Array.from(i),t));if(i instanceof Set)return new Set(o(Array.from(i),t));var a={};for(var u in r.push(i),n.push(a),i){var s=i[u];if("object"!==typeof s||null===s)a[u]=s;else if(s instanceof Date)a[u]=new Date(s);else if(s instanceof Map)a[u]=new Map(o(Array.from(s),t));else if(s instanceof Set)a[u]=new Set(o(Array.from(s),t));else if(ArrayBuffer.isView(s))a[u]=e(s);else{var c=r.indexOf(s);a[u]=-1!==c?n[c]:t(s)}}return r.pop(),n.pop(),a}:function t(i){if("object"!==typeof i||null===i)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return o(i,t);if(i instanceof Map)return new Map(o(Array.from(i),t));if(i instanceof Set)return new Set(o(Array.from(i),t));var a={};for(var u in r.push(i),n.push(a),i)if(!1!==Object.hasOwnProperty.call(i,u)){var s=i[u];if("object"!==typeof s||null===s)a[u]=s;else if(s instanceof Date)a[u]=new Date(s);else if(s instanceof Map)a[u]=new Map(o(Array.from(s),t));else if(s instanceof Set)a[u]=new Set(o(Array.from(s),t));else if(ArrayBuffer.isView(s))a[u]=e(s);else{var c=r.indexOf(s);a[u]=-1!==c?n[c]:t(s)}}return r.pop(),n.pop(),a};function o(t,o){for(var i=Object.keys(t),a=new Array(i.length),u=0;u<i.length;u++){var s=i[u],c=t[s];if("object"!==typeof c||null===c)a[s]=c;else if(c instanceof Date)a[s]=new Date(c);else if(ArrayBuffer.isView(c))a[s]=e(c);else{var f=r.indexOf(c);a[s]=-1!==f?n[f]:o(c)}}return a}}(t):t.proto?function t(n){if("object"!==typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return r(n,t);if(n instanceof Map)return new Map(r(Array.from(n),t));if(n instanceof Set)return new Set(r(Array.from(n),t));var o={};for(var i in n){var a=n[i];"object"!==typeof a||null===a?o[i]=a:a instanceof Date?o[i]=new Date(a):a instanceof Map?o[i]=new Map(r(Array.from(a),t)):a instanceof Set?o[i]=new Set(r(Array.from(a),t)):ArrayBuffer.isView(a)?o[i]=e(a):o[i]=t(a)}return o}:function t(n){if("object"!==typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return r(n,t);if(n instanceof Map)return new Map(r(Array.from(n),t));if(n instanceof Set)return new Set(r(Array.from(n),t));var o={};for(var i in n)if(!1!==Object.hasOwnProperty.call(n,i)){var a=n[i];"object"!==typeof a||null===a?o[i]=a:a instanceof Date?o[i]=new Date(a):a instanceof Map?o[i]=new Map(r(Array.from(a),t)):a instanceof Set?o[i]=new Set(r(Array.from(a),t)):ArrayBuffer.isView(a)?o[i]=e(a):o[i]=t(a)}return o};function r(t,r){for(var n=Object.keys(t),o=new Array(n.length),i=0;i<n.length;i++){var a=n[i],u=t[a];"object"!==typeof u||null===u?o[a]=u:u instanceof Date?o[a]=new Date(u):ArrayBuffer.isView(u)?o[a]=e(u):o[a]=r(u)}return o}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var n={};!function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e(e,r){if(e){if("string"===typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}function o(t,r){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=e(t))||r&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){s=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function i(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(s){u=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,r)||e(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,r){return c=s()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&u(o,r.prototype),o},c.apply(null,arguments)}function f(r){return function(e){if(Array.isArray(e))return t(e)}(r)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||e(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=Symbol("Comlink.proxy"),h=Symbol("Comlink.endpoint"),v=Symbol("Comlink.releaseProxy"),p=Symbol("Comlink.thrown"),d=function(t){return"object"===typeof t&&null!==t||"function"===typeof t},y=new Map([["proxy",{canHandle:function(t){return d(t)&&t[l]},serialize:function(t){var e=new MessageChannel,r=e.port1,n=e.port2;return g(t,r),[n,[n]]},deserialize:function(t){return t.start(),m(t,[],e);var e}}],["throw",{canHandle:function(t){return d(t)&&p in t},serialize:function(t){var e=t.value;return[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;e.addEventListener("message",(function r(n){if(n&&n.data){var o,u=Object.assign({path:[]},n.data),s=u.id,l=u.type,h=u.path,v=(n.data.argumentList||[]).map(k);try{var d=h.slice(0,-1).reduce((function(t,e){return t[e]}),t),y=h.reduce((function(t,e){return t[e]}),t);switch(l){case"GET":o=y;break;case"SET":d[h.slice(-1)[0]]=k(n.data.value),o=!0;break;case"APPLY":o=y.apply(d,v);break;case"CONSTRUCT":var w;o=A(c(y,f(v)));break;case"ENDPOINT":var m=new MessageChannel,_=m.port1,j=m.port2;g(t,j),o=M(_,[_]);break;case"RELEASE":o=void 0;break;default:return}}catch(w){o=a({value:w},p,0)}Promise.resolve(o).catch((function(t){return a({value:t},p,0)})).then((function(t){var n=i(S(t),2),o=n[0],a=n[1];e.postMessage(Object.assign(Object.assign({},o),{id:s}),a),"RELEASE"===l&&(e.removeEventListener("message",r),b(e))}))}})),e.start&&e.start()}function b(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function w(t){if(t)throw new Error("Proxy has been released and is not useable")}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=!1,o=new Proxy(r,{get:function(r,i){if(w(n),i===v)return function(){return O(t,{type:"RELEASE",path:e.map((function(t){return t.toString()}))}).then((function(){b(t),n=!0}))};if("then"===i){if(0===e.length)return{then:function(){return o}};var a=O(t,{type:"GET",path:e.map((function(t){return t.toString()}))}).then(k);return a.then.bind(a)}return m(t,[].concat(f(e),[i]))},set:function(r,o,a){w(n);var u=i(S(a),2),s=u[0],c=u[1];return O(t,{type:"SET",path:[].concat(f(e),[o]).map((function(t){return t.toString()})),value:s},c).then(k)},apply:function(r,o,a){w(n);var u=e[e.length-1];if(u===h)return O(t,{type:"ENDPOINT"}).then(k);if("bind"===u)return m(t,e.slice(0,-1));var s=i(_(a),2),c=s[0],f=s[1];return O(t,{type:"APPLY",path:e.map((function(t){return t.toString()})),argumentList:c},f).then(k)},construct:function(r,o){w(n);var a=i(_(o),2),u=a[0],s=a[1];return O(t,{type:"CONSTRUCT",path:e.map((function(t){return t.toString()})),argumentList:u},s).then(k)}});return o}function _(t){var e,r=t.map(S);return[r.map((function(t){return t[0]})),(e=r.map((function(t){return t[1]})),Array.prototype.concat.apply([],e))]}var j=new WeakMap;function M(t,e){return j.set(t,e),t}function A(t){return Object.assign(t,a({},l,!0))}function S(t){var e,r=o(y);try{for(r.s();!(e=r.n()).done;){var n=i(e.value,2),a=n[0],u=n[1];if(u.canHandle(t)){var s=i(u.serialize(t),2);return[{type:"HANDLER",name:a,value:s[0]},s[1]]}}}catch(c){r.e(c)}finally{r.f()}return[{type:"RAW",value:t},j.get(t)||[]]}function k(t){switch(t.type){case"HANDLER":return y.get(t.name).deserialize(t.value);case"RAW":return t.value}}function O(t,e,r){return new Promise((function(n){var o=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");t.addEventListener("message",(function e(r){r.data&&r.data.id&&r.data.id===o&&(t.removeEventListener("message",e),n(r.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),r)}))}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P(t,e,r){return e&&T(t.prototype,e),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var L=r(460),B=r.n(L),C=r(467),x=r.n(C),z=r(791),V=function(t,e){return t===e},D=function(){var t=!("undefined"===typeof window||!window.document||!window.document.createElement),e="undefined"!==typeof navigator&&"ReactNative"===navigator.product;return t||e}(),N=!1,R=function(){return D&&!N},I=function(t){return t},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;if(!(t._subscribers instanceof Set))throw new Error("Invalid entity.");var n=(0,z.useState)(e(t._value)),o=i(n,2),a=o[0],u=o[1],s=(0,z.useCallback)((function(t){var n=e(t);!r(a,n)&&u(n)}),[e,r,a]),c=R()?z.useLayoutEffect:z.useEffect;return c((function(){return t._subscribe(s)}),[s,t]),s(t._value),a},$=new Set,U=function(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];"function"===typeof e&&(e=e.apply(void 0,[t._value].concat(n))),t._value=e,t._subscribers.forEach((function(e){return e(t._value)}))}},q=function(t,e){return e&&"function"===typeof e.then?function(){e.then((function(e){return setTimeout((function(){return t.set(e)}))}))}:function(){t._value=e}},F=function(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return W.apply(void 0,[t].concat(r))}},K=function(t){return function(e){return t._subscribers.add(e),function(){t._subscribers.delete(e)}}},H=function(t,e){e.forEach((function(e){if("object"!==typeof e)throw new Error("Invalid plug-in");var r=function(r){if("function"===typeof e[r]){var n=e[r](t[r],t);if("function"!==typeof n)throw new Error("Invalid override for '".concat(r,"' in plug-in."));t[r]=n}};r("init"),r("set")}))},Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===t)throw new Error("Entity requires an initial value.");if(!(e instanceof Array))throw new Error("Invalid plug-ins array.");var r={_value:void 0,_subscribers:new Set};return r._subscribe=K(r),r.get=function(){return r._value},r.set=U(r),r.init=q(r,t),r.use=F(r),H(r,e),r.init(),$.add(r),r},G=function(){function t(){E(this,t),this.numMoves=void 0,this.numMovesNoCapture=void 0,this.currentTurn=void 0,this.numWhiteLeft=void 0,this.numBlackLeft=void 0,this.whiteKingAlive=void 0,this.blackKingAlive=void 0,this.winner=void 0,this.winMessage=void 0,this.selectedPiece=void 0,this.layout=void 0,this.validMoves=void 0,this.boardStateTracker=void 0,this.boardWidth=void 0,this.boardHeight=void 0,this.numMoves=Y(0),this.numMovesNoCapture=Y(0),this.currentTurn=Y(1),this.numWhiteLeft=Y(8),this.numBlackLeft=Y(8),this.whiteKingAlive=Y(!0),this.blackKingAlive=Y(!0),this.winner=Y(0),this.winMessage=Y(""),this.selectedPiece=Y([-1,-1]),this.layout=Y([[2,2,2,2,2,2,2,2],[0,0,0,0,4,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,3,0,0,0,0],[1,1,1,1,1,1,1,1]]),this.boardWidth=this.layout.get()[0].length,this.boardHeight=this.layout.get().length,this.validMoves=Y([""]),this.boardStateTracker=Y(new Map)}return P(t,[{key:"copyState",value:function(){return JSON.stringify({currentTurn:this.currentTurn.get(),numWhiteLeft:this.numWhiteLeft.get(),numBlackLeft:this.numBlackLeft.get(),whiteKingAlive:this.whiteKingAlive.get(),blackKingAlive:this.blackKingAlive.get(),winner:this.winner.get(),selectedPiece:this.selectedPiece.get(),layout:this.layout.get(),boardStateTracker:JSON.stringify(Array.from(this.boardStateTracker.get().entries()))})}},{key:"loadState",value:function(t){var e=JSON.parse(t),r=e.currentTurn,n=e.numWhiteLeft,o=e.numBlackLeft,i=e.whiteKingAlive,a=e.blackKingAlive,u=e.winner,s=e.selectedPiece,c=e.layout,f=e.boardStateTracker;this.currentTurn.set(r),this.numWhiteLeft.set(n),this.numBlackLeft.set(o),this.whiteKingAlive.set(i),this.blackKingAlive.set(a),this.winner.set(u),this.selectedPiece.set(s),this.layout.set(c),this.boardStateTracker.set(new Map(JSON.parse(f)))}},{key:"setSelectedPiece",value:function(t){var e=i(t,2),r=e[0],n=e[1];this.selectedPiece.set([r,n])}},{key:"toggleTurn",value:function(){this.currentTurn.set((function(t){return 1===t?2:1}))}},{key:"getBoardValue",value:function(t,e){if(t<0||t>this.layout.get().length-1||e<0||e>this.layout.get()[0].length-1)return[-1,!1];var r=this.layout.get()[t][e]>2;return[r?this.layout.get()[t][e]-2:this.layout.get()[t][e],r]}},{key:"makeMove",value:function(t){var e=t.start,r=t.end,n=i(e,2),o=n[0],a=n[1],u=i(r,2),s=u[0],c=u[1],f=this.layout.get(),l=f[o][a];return f[s][c]=l,f[o][a]=0,this.layout.set(f),this.boardStateTracker.set((function(t){var e,r=f.flat().join("");return t.set(r,(null!==(e=t.get(r))&&void 0!==e?e:0)+1),t})),this.resetValidMoves(),this.processCaptures(s,c),0===this.getAllValidMoves(2).length?(""===this.winMessage.get()&&this.winMessage.set("Black has no valid moves from this point, meaning you win!"),this.winner.set(1)):0===this.getAllValidMoves(1).length?(""===this.winMessage.get()&&this.winMessage.set("You have no valid moves from this point, meaning your opponent wins!"),this.winner.set(2)):(this.numMoves.set((function(t){return t+1})),this.numMovesNoCapture.set((function(t){return t+1})),50==this.numMovesNoCapture.get()?this.numBlackLeft.get()>=this.numWhiteLeft.get()?(this.winner.set(2),void(""===this.winMessage.get()&&this.winMessage.set("50 moves and no capture. Your opponent wins this round with more (or equal) pieces!"))):(this.winner.set(1),void(""===this.winMessage.get()&&this.winMessage.set("50 moves and no capture. You win this round with more pieces!"))):void this.toggleTurn())}},{key:"simulateMove",value:function(t){var e=t.start,r=t.end,n=i(e,2),o=n[0],a=n[1],u=i(r,2),s=u[0],c=u[1],f=B()()(this.layout.get()),l=f[o][a];return f[s][c]=l,f[o][a]=0,f}},{key:"doCapture",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getBoardValue(t,e),o=i(n,1),a=o[0];if(this.layout.set((function(r){return r[t][e]=0,r})),this.numMovesNoCapture.set(0),r)switch(a){case 1:return this.winner.set(2),void(""===this.winMessage.get()&&this.winMessage.set("Your opponent successfully immobilised your king, so they win!"));case 2:return this.winner.set(1),void(""===this.winMessage.get()&&this.winMessage.set("You successfully immobilised your opponent's king, so you win!"))}1===a?this.numWhiteLeft.set((function(t){return t-1})):this.numBlackLeft.set((function(t){return t-1})),0===this.numBlackLeft.get()?(this.winner.set(1),""===this.winMessage.get()&&this.winMessage.set("You captured all of your opponent's pawns. Well done!")):0===this.numWhiteLeft.get()&&(this.winner.set(2),""===this.winMessage.get()&&this.winMessage.set("Your opponent captured all of your pawns. Unlucky..."))}},{key:"addValidMove",value:function(t,e){var r=[t,e].join("|");this.validMoves.set((function(t){return[].concat(f(t),[r])}))}},{key:"getBlockers",value:function(t,e){var r=(t=t.map((function(t){return 0===t?0:1}))).slice(0,e).lastIndexOf(1),n=e+1+t.slice(e+1).indexOf(1);return[r,n===e?8:n]}},{key:"getAllValidMoves",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=[],n=function(n){for(var o=function(o){if(0!==e&&t.getBoardValue(n,o)[0]!==e)return"continue";var a=i(t.getValidMoves(n,o),2),u=a[0],s=a[1];r.push.apply(r,f(u.map((function(t){return{start:[n,o],end:[t,o]}})))),r.push.apply(r,f(s.map((function(t){return{start:[n,o],end:[n,t]}}))))},a=0;a<t.layout.get()[n].length;a++)o(a)},o=0;o<this.layout.get().length;o++)n(o);return r}},{key:"getValidMoves",value:function(t,e){var r=this,n=this.layout.get()[t][e];if(0===n)return[[],[]];var o=n>2,a=this.layout.get().map((function(t){return t[e]})),u=this.layout.get()[t],s=i(this.getBlockers(a,t),2),c=s[0],f=s[1],l=i(this.getBlockers(u,e),2),h=l[0],v=l[1];return[a.map((function(t,e){return e})).filter((function(e){return!o||e>=t-1&&e<=t+1})).filter((function(e){return e>c&&e<f&&e!==t})).filter((function(n){var o,i=r.simulateMove({start:[t,e],end:[n,e]}).flat().join("");return(null!==(o=r.boardStateTracker.get().get(i))&&void 0!==o?o:0)<3})),u.map((function(t,e){return e})).filter((function(t){return!o||t>=e-1&&t<=e+1})).filter((function(t){return t>h&&t<v&&t!==e})).filter((function(n){var o,i=r.simulateMove({start:[t,e],end:[t,n]}).flat().join("");return(null!==(o=r.boardStateTracker.get().get(i))&&void 0!==o?o:0)<3}))]}},{key:"resetValidMoves",value:function(){this.validMoves.set([""])}},{key:"isValidMove",value:function(t,e){return this.validMoves.get().includes([t,e].join("|"))}},{key:"processCaptures",value:function(t,e){for(var r=[[t-1,e],[t+1,e],[t,e-1],[t,e+1]],n=1===this.currentTurn.get()?2:1,o=0,a=r;o<a.length;o++){var u=i(a[o],2),s=u[0],c=u[1],f=i(this.getBoardValue(s,c),2),l=f[0],h=f[1];l===n&&(console.log(this.getValidMoves(s,c)),h&&0===this.getValidMoves(s,c)[0].length&&0===this.getValidMoves(s,c)[1].length?this.doCapture(s,c,!0):h||!this.isSurroundedOnOppositeSides(s,c)&&!this.isCornered(s,c)||this.doCapture(s,c))}}},{key:"isSurroundedOnOppositeSides",value:function(t,e){var r=this.currentTurn.get(),n=i(this.getAdjacentSquares(t,e),4),o=n[0],a=n[1],u=n[2],s=n[3];return[o,a].every((function(t){return t===r}))||[u,s].every((function(t){return t===r}))}},{key:"isSurroundedOnAllSides",value:function(t,e){return this.getAdjacentSquares(t,e).every((function(t){return 1===t||2===t}))}},{key:"getAdjacentSquares",value:function(t,e){return[i(this.getBoardValue(t-1,e),1)[0],i(this.getBoardValue(t+1,e),1)[0],i(this.getBoardValue(t,e-1),1)[0],i(this.getBoardValue(t,e+1),1)[0]]}},{key:"isCornered",value:function(t,e){var r=i(this.getAdjacentSquares(t,e),4),n=r[0],o=r[1],a=r[2],u=r[3],s=this.currentTurn.get();switch(!0){case 0===t&&0===e:return o===s&&u===s;case 0===t&&e===this.boardWidth-1:return o===s&&a===s;case t===this.boardHeight-1&&0===e:return n===s&&u===s;case t===this.boardHeight-1&&e===this.boardWidth-1:return n===s&&a===s}}}]),t}(),J=function(){function t(){E(this,t),this.board=void 0,this.board=new G}return P(t,[{key:"run",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return this.board.loadState(t),this.getMove([],e,t,-1/0,1/0)}},{key:"getMove",value:function(t,e,r,n,i){this.board.loadState(r);var a,u=o(t);try{for(u.s();!(a=u.n()).done;){var s=a.value;this.board.makeMove(s)}}catch(m){u.e(m)}finally{u.f()}if(0===e)return{score:this.heuristic(),bestMove:t[0]};var c={score:0,bestMove:{start:[0,0],end:[0,0]}};if(1===this.board.currentTurn.get()){c.score=1/0;var f,l=o(this.board.getAllValidMoves(1));try{for(l.s();!(f=l.n()).done;){var h=f.value,v=B()()(t);v.push(h);var p=this.getMove(v,e-1,r,n,i);if(x()(c.bestMove,{start:[0,0],end:[0,0]})&&(c.score=p.score,c.bestMove=p.bestMove),p.score<c.score&&(c.score=p.score,c.bestMove=p.bestMove),p.score===c.score&&Math.random()<.1&&(c.score=p.score,c.bestMove=p.bestMove),c.score>=i)break;n=Math.max(n,c.score)}}catch(m){l.e(m)}finally{l.f()}}else{c.score=-1/0;var d,y=o(this.board.getAllValidMoves(2));try{for(y.s();!(d=y.n()).done;){var g=d.value,b=B()()(t);b.push(g);var w=this.getMove(b,e-1,r,n,i);if(x()(c.bestMove,{start:[0,0],end:[0,0]})&&(c.score=w.score,c.bestMove=w.bestMove),w.score>c.score&&(c.score=w.score,c.bestMove=w.bestMove),w.score===c.score&&Math.random()<.1&&(c.score=w.score,c.bestMove=w.bestMove),c.score<=n)break;i=Math.min(i,c.score)}}catch(m){y.e(m)}finally{y.f()}}return this.board.loadState(r),c}},{key:"heuristic",value:function(){return 0===this.board.numWhiteLeft.get()?1/0:0===this.board.numBlackLeft.get()?-1/0:2*this.board.numBlackLeft.get()-this.board.numWhiteLeft.get()}}]),t}();new J;g(Object.keys(n).reduce((function(t,e){return"__esModule"==e||(t[e]=n[e]),t}),{}))}()}();
//# sourceMappingURL=a5be06b05517c7f42be8.worker.js.map